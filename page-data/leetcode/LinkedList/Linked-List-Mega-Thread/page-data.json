{"componentChunkName":"component---src-gatsby-theme-portfolio-minimal-templates-article-index-tsx","path":"/leetcode/LinkedList/Linked-List-Mega-Thread/","result":{"pageContext":{"article":{"banner":{"alt":"First Markdown Post","caption":"Linked List <u><a href=\"https://leetcode.com/tag/linked-list/\"> LeetCode</a></u>","src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABRElEQVR42pVSz0vDMBjt/+vJHyf/AfEu6mEwocx5sCB4KIXiQQcWO1rp1mxjmIXm0OJycHWWtmm/yBrp3GBuvkNIyHvf976XKGIziqIQAv4gKJsuygUgnicA8D9xWZZCiPu728bZaX3cSSypj0+d46O95OVEpNOqNWwXS5NJkhwe7EfTj4CQ4G24xfbvweT+/OJSu25wdJUwLHbpvIgIQNr+/Mr8zo14f4CqXA3JWRFzzteq8DzPCwjZvKYCwBpNkcp+v885p5TOZjPGGCHEsqxX1x2NhowxSmmapp7nua4bRVEcx0txnue9Xg9j3Gw2DcNot9uappmm6ThOlmXPFXRd73a7rVZLVVXbtqW7H9vj8dj3fdu2J5OJ4zgIIYxxEASe52GMB4MBIQQhRCm1LCsMQznFMu06CbnW4dURVr915V2+AVClp1w0wZmRAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/2eeafdaeb2484ec1519ee2185116244a/bc51f/leetcode.png","srcSet":"/static/2eeafdaeb2484ec1519ee2185116244a/41200/leetcode.png 165w,\n/static/2eeafdaeb2484ec1519ee2185116244a/f979a/leetcode.png 330w,\n/static/2eeafdaeb2484ec1519ee2185116244a/bc51f/leetcode.png 660w","sizes":"(min-width: 660px) 660px, 100vw"},"sources":[{"srcSet":"/static/2eeafdaeb2484ec1519ee2185116244a/322ad/leetcode.webp 165w,\n/static/2eeafdaeb2484ec1519ee2185116244a/de3b3/leetcode.webp 330w,\n/static/2eeafdaeb2484ec1519ee2185116244a/2b2b5/leetcode.webp 660w","type":"image/webp","sizes":"(min-width: 660px) 660px, 100vw"}]},"width":660,"height":400}}}},"body":"<h2>Common Problems</h2>\n<p>This a collection of arguably the most common LinkedList problems, should go through all the basics before starting these.</p>\n<ul>\n<li><a href=\"https://leetcode.com/problems/reverse-linked-list/\">206. Reverse Linked List</a></li>\n<li><a href=\"https://leetcode.com/problems/palindrome-linked-list/\">234. Palindrome Linked List</a></li>\n<li><a href=\"https://leetcode.com/problems/middle-of-the-linked-list/\">876. Middle of the Linked List</a></li>\n<li><a href=\"https://leetcode.com/problems/remove-nth-node-from-end-of-list/\">19. Remove Nth Node From End of List</a></li>\n<li><a href=\"https://leetcode.com/problems/odd-even-linked-list/\">328. Odd Even Linked List</a></li>\n<li><a href=\"https://leetcode.com/problems/merge-two-sorted-lists/\">21. Merge Two Sorted Lists</a></li>\n<li><a href=\"https://leetcode.com/problems/reorder-list/\">143. Reorder List</a></li>\n<li><a href=\"https://leetcode.com/problems/add-two-numbers/\">2. Add Two Numbers</a></li>\n<li><a href=\"https://leetcode.com/problems/reverse-linked-list-ii/\">92. Reverse Linked List II</a></li>\n<li><a href=\"https://leetcode.com/problems/reverse-nodes-in-k-group/\">25. Reverse Nodes in k-Group</a></li>\n<li><a href=\"https://leetcode.com/problems/flatten-a-multilevel-doubly-linked-list/\">430. Flatten a Multilevel Doubly Linked List</a></li>\n<li><a href=\"https://leetcode.com/problems/lru-cache/\">146. LRU</a></li>\n<li><a href=\"https://leetcode.com/problems/design-browser-history/\">1472. Design Browser History</a></li>\n</ul>\n<p>For more linked list problem check out <a href=\"https://leetcode.com/tag/linked-list/\">https://leetcode.com/tag/linked-list/</a>.</p>\n<h2><a href=\"https://leetcode.com/problems/reverse-linked-list/\">206. Reverse Linked List</a></h2>\n<p>We should be able to do it effortlessly.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">reverseList</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> head <span class=\"token keyword\">or</span> <span class=\"token keyword\">not</span> head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> head\n\n        prev <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\n        curr <span class=\"token operator\">=</span> head\n\n        <span class=\"token keyword\">while</span> curr<span class=\"token punctuation\">:</span>\n            tmp <span class=\"token operator\">=</span> curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> prev\n            prev <span class=\"token operator\">=</span> curr\n            curr <span class=\"token operator\">=</span> tmp\n\n        <span class=\"token keyword\">return</span> prev</code></pre></div>\n<h2><a href=\"https://leetcode.com/problems/palindrome-linked-list/\">234. Palindrome Linked List</a></h2>\n<p>There are many way to do it, I pick the way that uses the most common technique</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">isPalindrome</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">def</span> <span class=\"token function\">reverse</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            prev <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\n            curr <span class=\"token operator\">=</span> head\n            <span class=\"token keyword\">while</span> curr<span class=\"token punctuation\">:</span>\n                tmp <span class=\"token operator\">=</span> curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n                curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> prev\n                prev <span class=\"token operator\">=</span> curr\n                curr <span class=\"token operator\">=</span> tmp\n            <span class=\"token keyword\">return</span> prev\n\n        <span class=\"token keyword\">def</span> <span class=\"token function\">get_string</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            r <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n            curr <span class=\"token operator\">=</span> head\n            <span class=\"token keyword\">while</span> curr<span class=\"token punctuation\">:</span>\n                r <span class=\"token operator\">+=</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>curr<span class=\"token punctuation\">.</span>val<span class=\"token punctuation\">)</span>\n                curr <span class=\"token operator\">=</span> curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            <span class=\"token keyword\">return</span> r\n\n        s1 <span class=\"token operator\">=</span> get_string<span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">)</span>\n        s2 <span class=\"token operator\">=</span> get_string<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">return</span> s1 <span class=\"token operator\">==</span> s2</code></pre></div>\n<h2><a href=\"https://leetcode.com/problems/middle-of-the-linked-list/\">876. Middle of the Linked List</a></h2>\n<p>Use slow and fast pointers. This is also a basic technique.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">middleNode</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> head <span class=\"token keyword\">or</span> <span class=\"token keyword\">not</span> head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> head\n\n        <span class=\"token comment\"># Same starting point</span>\n        fast <span class=\"token operator\">=</span> slow <span class=\"token operator\">=</span> head\n\n        <span class=\"token comment\"># Since fast need to move 2 steps so extra check is needed</span>\n        <span class=\"token keyword\">while</span> fast <span class=\"token keyword\">and</span> fast<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">:</span>\n            slow <span class=\"token operator\">=</span> slow<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            fast <span class=\"token operator\">=</span> fast<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n\n        <span class=\"token keyword\">return</span> slow</code></pre></div>\n<h2><a href=\"https://leetcode.com/problems/remove-nth-node-from-end-of-list/\">19. Remove Nth Node From End of List</a></h2>\n<p>The idea is to have 2 pointers.</p>\n<p>1/ 2 pointers should have (n - 1) node between or n steps away (aka left should move n times to reach right)</p>\n<p>2/ we want the right pointer to point to the last node of the list</p>\n<p>This way, the left pointer is exactly one node ahead of the node that needs to be removed.</p>\n<p>Since they are n steps away, we can first move the right pointer n times, then we move both till right at the last node</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">removeNthFromEnd</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n\n        left <span class=\"token operator\">=</span> right <span class=\"token operator\">=</span> head\n\n        <span class=\"token keyword\">while</span> n<span class=\"token punctuation\">:</span>\n            right <span class=\"token operator\">=</span> right<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            n <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> right<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n\n        <span class=\"token keyword\">while</span> right<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">:</span>\n            left <span class=\"token operator\">=</span> left<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            right <span class=\"token operator\">=</span> right<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n\n        left<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> left<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n\n        <span class=\"token keyword\">return</span> head\n</code></pre></div>\n<h2><a href=\"https://leetcode.com/problems/odd-even-linked-list/\">328. Odd Even Linked List</a></h2>\n<p>Set up 2 pointers for odd and even indexes.\nconnect the node and move the pointers.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">oddEvenList</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> head <span class=\"token keyword\">or</span> <span class=\"token keyword\">not</span> head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> head\n\n        odd_curr <span class=\"token operator\">=</span> head\n        even_curr <span class=\"token operator\">=</span> even_head <span class=\"token operator\">=</span> head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n\n        <span class=\"token keyword\">while</span> odd_curr <span class=\"token keyword\">and</span> even_curr <span class=\"token keyword\">and</span> odd_curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token keyword\">and</span> even_curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">:</span>\n            odd_curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">,</span> even_curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> odd_curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">,</span> even_curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            odd_curr<span class=\"token punctuation\">,</span> even_curr <span class=\"token operator\">=</span> odd_curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">,</span> even_curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n\n        odd_curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> even_head\n\n        <span class=\"token keyword\">return</span> head\n</code></pre></div>\n<h2><a href=\"https://leetcode.com/problems/merge-two-sorted-lists/\">21. Merge Two Sorted Lists</a></h2>\n<p>Don't merge one into the other, but create a dummy head and merge two given lists to the third list.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">mergeTwoLists</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> list1<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> list2<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n\n        dummy <span class=\"token operator\">=</span> ListNode<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        curr <span class=\"token operator\">=</span> dummy\n        curr1 <span class=\"token operator\">=</span> list1\n        curr2 <span class=\"token operator\">=</span> list2\n\n        <span class=\"token keyword\">while</span> curr1 <span class=\"token keyword\">and</span> curr2<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> curr1<span class=\"token punctuation\">.</span>val <span class=\"token operator\">&lt;=</span> curr2<span class=\"token punctuation\">.</span>val<span class=\"token punctuation\">:</span>\n                curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> curr1\n                curr <span class=\"token operator\">=</span> curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n                curr1 <span class=\"token operator\">=</span> curr1<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> curr2\n                curr <span class=\"token operator\">=</span> curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n                curr2 <span class=\"token operator\">=</span> curr2<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n\n        <span class=\"token keyword\">if</span> curr1<span class=\"token punctuation\">:</span>\n            curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> curr1\n\n        <span class=\"token keyword\">if</span> curr2<span class=\"token punctuation\">:</span>\n            curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> curr2\n\n        <span class=\"token keyword\">return</span> dummy<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span></code></pre></div>\n<h2><a href=\"https://leetcode.com/problems/reorder-list/\">143. Reorder List</a></h2>\n<p>Such a lame name tbh, tells nothing about the problem we need to solve.</p>\n<p>We need to convert:</p>\n<p><code class=\"language-text\">L0 → L1 → … → Ln - 1 → Ln</code></p>\n<p>to:</p>\n<p><code class=\"language-text\">L0 → Ln → L1 → Ln - 1 → L2 → Ln - 2 → …</code></p>\n<p>Example:</p>\n<p><code class=\"language-text\">1 → 2 → 3 → 4</code> to <code class=\"language-text\">1 → 4 → 2 → 3</code></p>\n<p>3 steps to do this.</p>\n<p>1/ Find the middle node (<a href=\"https://leetcode.com/problems/middle-of-the-linked-list/description/\">LC876</a>), but also keep track of the node before mid node so that we can break the list into two.</p>\n<p>2/ Reverse the second list</p>\n<p>3/ Merge 2 lists</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">reorderList</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        Do not return anything, modify head in-place instead.\n        \"\"\"</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> head <span class=\"token keyword\">or</span> <span class=\"token keyword\">not</span> head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> head\n\n        slow <span class=\"token operator\">=</span> fast <span class=\"token operator\">=</span> head\n        before_slow <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\n\n        <span class=\"token keyword\">while</span> fast <span class=\"token keyword\">and</span> fast<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">:</span>\n            before_slow <span class=\"token operator\">=</span> slow\n            slow <span class=\"token operator\">=</span> slow<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            fast <span class=\"token operator\">=</span> fast<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n\n        before_slow<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\n        curr <span class=\"token operator\">=</span> slow\n        prev <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\n\n        <span class=\"token keyword\">while</span> curr<span class=\"token punctuation\">:</span>\n            tmp <span class=\"token operator\">=</span> curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> prev\n            prev <span class=\"token operator\">=</span> curr\n            curr <span class=\"token operator\">=</span> tmp\n\n        curr2 <span class=\"token operator\">=</span> prev\n        curr1 <span class=\"token operator\">=</span> head\n        <span class=\"token keyword\">while</span> curr2<span class=\"token punctuation\">:</span>\n            tmp <span class=\"token operator\">=</span> curr1<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            curr1<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> curr2\n            curr1 <span class=\"token operator\">=</span> curr2\n            curr2 <span class=\"token operator\">=</span> tmp</code></pre></div>\n<h1><a href=\"https://leetcode.com/problems/add-two-numbers/\">2. Add Two Numbers</a></h1>\n<p>Set up 2 pointers that iterate at the same speed on 2 different lists\nand only stop when we reach the end of the longer list.</p>\n<p>some small mistakes can be made\n1/ forgot to update carry for all cases\n2/ lots of checking when 2 lists are not the same size\n3/ after the iteration, need to check carry again</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ListNode</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> val<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">next</span><span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>val <span class=\"token operator\">=</span> val\n        self<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">next</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">addTwoNumbers</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> l1<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> l2<span class=\"token punctuation\">:</span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> Optional<span class=\"token punctuation\">[</span>ListNode<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        c1 <span class=\"token operator\">=</span> l1\n        c2 <span class=\"token operator\">=</span> l2\n        result <span class=\"token operator\">=</span> ListNode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        r <span class=\"token operator\">=</span> result\n        carry <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">while</span> c1 <span class=\"token operator\">!=</span> <span class=\"token boolean\">None</span> <span class=\"token keyword\">or</span> c2 <span class=\"token operator\">!=</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\n\n            v1 <span class=\"token operator\">=</span> c1<span class=\"token punctuation\">.</span>val <span class=\"token keyword\">if</span> c1 <span class=\"token keyword\">else</span> <span class=\"token number\">0</span>\n            v2 <span class=\"token operator\">=</span> c2<span class=\"token punctuation\">.</span>val <span class=\"token keyword\">if</span> c2 <span class=\"token keyword\">else</span> <span class=\"token number\">0</span>\n            tmp_sum <span class=\"token operator\">=</span> v1 <span class=\"token operator\">+</span> v2 <span class=\"token operator\">+</span> carry\n\n            <span class=\"token keyword\">if</span> tmp_sum <span class=\"token operator\">>=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">:</span>\n                tmp_sum <span class=\"token operator\">-=</span> <span class=\"token number\">10</span>\n                carry <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                carry <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n            r<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> ListNode<span class=\"token punctuation\">(</span>tmp_sum<span class=\"token punctuation\">)</span>\n            r <span class=\"token operator\">=</span> r<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n\n            <span class=\"token keyword\">if</span> c1 <span class=\"token operator\">!=</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\n                c1 <span class=\"token operator\">=</span> c1<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            <span class=\"token keyword\">if</span> c2 <span class=\"token operator\">!=</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\n                c2 <span class=\"token operator\">=</span> c2<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n\n        <span class=\"token keyword\">if</span> carry <span class=\"token operator\">==</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n            r<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> ListNode<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n</code></pre></div>\n<h2><a href=\"https://leetcode.com/problems/reverse-linked-list-ii/\">92. Reverse Linked List II</a></h2>\n<p>We need to reverse a Linked List, but not from the beginning but from the m position.</p>\n<p>In general, we need to move the curr to m to start reversing, mark the starting point.Then we start reversing till curr reach n + 1 position since m, n are not index.</p>\n<p>To move to m position, need to move m - 1 steps (m - 1 times of <code class=\"language-text\">.next</code> from head). To move from m position to n position need n - m steps (n - m times of .next from m)</p>\n<p>1/ prepare prev, curr like regular reverse Linked List.</p>\n<p>2/ Goal is to move curr to m position (prev accordingly), meaning move prev and curr by m - 1 steps (use m > 1 for condition, and reduce both m, n by 1 evey iteration) to the \"ready to reverse\" position. after: m == 1 and n == n - m + 1</p>\n<p>3/ Goal is to reverse till curr reach to n + 1 postition, meaning we need n steps for curr in totall and we moved m - 1 steps alread, n - m + 1 step is needed and n is exactly n - m + 1. thus can have n = 0 for while loop condition.</p>\n<p>4/ Two break points now have 4 nodes 1/conn 2/tail 3/prev 4/curr, anything between (inclusive) tail and prev is reverse and now</p>\n<h3>Mistakes</h3>\n<ul>\n<li>forgot <code class=\"language-text\">conn</code> can be None (this case, <code class=\"language-text\">prev</code> should be returned)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">reverseBetween</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n        <span class=\"token comment\"># m, n are postion not index</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> head<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">None</span>\n\n        prev <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\n        curr <span class=\"token operator\">=</span> head\n\n        <span class=\"token comment\"># None    1  ->  2  ->  ...  ->  m  -> ...  ->  n  -> ...</span>\n        <span class=\"token comment\"># prev  curr</span>\n\n        <span class=\"token comment\"># steps for curr (and prev) to move: m - 1</span>\n        <span class=\"token comment\"># value of m: m</span>\n        <span class=\"token keyword\">while</span> m <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n            prev <span class=\"token operator\">=</span> curr\n            curr <span class=\"token operator\">=</span> curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            <span class=\"token comment\"># None    1  ->  2  ->  ...  ->  mth  -> ...  ->  nth  -> ...</span>\n            <span class=\"token comment\">#       prev   curr</span>\n            m <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n            n <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n        <span class=\"token comment\"># None    1  ->  2  ->  ... (m-1)th ->  mth  -> ...  ->  nth  -> ...</span>\n        <span class=\"token comment\">#                             prev      curr</span>\n        <span class=\"token comment\"># value of m: 1</span>\n        <span class=\"token comment\"># value of n: n - m + 1</span>\n        <span class=\"token comment\"># moved: m - 1 steps</span>\n        tail <span class=\"token operator\">=</span> curr\n        conn <span class=\"token operator\">=</span> prev\n        <span class=\"token comment\">#                            conn      tail</span>\n        <span class=\"token comment\"># None    1  ->  2  ->  ... (m-1)th ->  mth  -> ...  ->  nth  -> ...</span>\n        <span class=\"token comment\">#                            prev      curr</span>\n        <span class=\"token comment\"># total steps needed for curr: n</span>\n        <span class=\"token comment\"># steps already moved: m - 1</span>\n        <span class=\"token comment\"># steps needed: n - m + 1</span>\n        <span class=\"token comment\"># value of n: n - m + 1</span>\n        <span class=\"token keyword\">while</span> n<span class=\"token punctuation\">:</span>\n            temp <span class=\"token operator\">=</span> curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> prev\n            prev <span class=\"token operator\">=</span> curr\n            curr <span class=\"token operator\">=</span> temp\n            n <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n        <span class=\"token comment\">#                            conn      tail</span>\n        <span class=\"token comment\"># None    1  ->  2  ->  ... (m-1)th &lt;-  mth  &lt;- ...  &lt;-  nth  |  (n+1)th -> ...</span>\n        <span class=\"token comment\">#                                                        prev |  curr</span>\n        <span class=\"token keyword\">if</span> conn<span class=\"token punctuation\">:</span> <span class=\"token comment\"># m could be 1, then conn is None and prev need to be the new head</span>\n            conn<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> prev\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            head <span class=\"token operator\">=</span> prev\n\n        tail<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> curr\n        <span class=\"token keyword\">return</span> head</code></pre></div>\n<h2><a href=\"https://leetcode.com/problems/reverse-nodes-in-k-group/\">25. Reverse Nodes in k-Group</a></h2>\n<ol>\n<li>create a helper that reverse the list except last one and return the new head and new tail (except last one)</li>\n<li>create a dummy(point to head) and a left pointer points to dummy</li>\n<li>create a right pointer points to head</li>\n<li>while right pointer is not None, move right pointer k steps to position k + 1</li>\n<li>reverse everything in (left pointer, right pointer) i.e. reverse_list_except_last(left.next, right)</li>\n<li>get the new_head and new_tail from the function call</li>\n<li>left.next = new_head, then left = new_tail, then new_tail.next = right</li>\n<li>keep moving right pointer by k step</li>\n<li>final step, check the counter again</li>\n</ol>\n<h3>Mistakes</h3>\n<ul>\n<li>Forgot to make <code class=\"language-text\">dummy</code> node.</li>\n<li><code class=\"language-text\">reverse_list_except_last</code> should take <code class=\"language-text\">curr.next</code>/<code class=\"language-text\">left.next</code></li>\n<li><code class=\"language-text\">count</code> and <code class=\"language-text\">right</code> pointer need to be update no matter what</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">reverseKGroup</span><span class=\"token punctuation\">(</span> head<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n        <span class=\"token keyword\">def</span> <span class=\"token function\">reverse_list_except_last</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">,</span> last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token triple-quoted-string string\">\"\"\"\n            make 1 -> 2 -> 3\n            to   2 -> 1 -> 3\n\n            return 2, 1\n            \"\"\"</span>\n            <span class=\"token comment\"># prev = None</span>\n            <span class=\"token comment\"># curr = head</span>\n            <span class=\"token comment\"># while curr != last:</span>\n            <span class=\"token comment\">#     temp = curr.next</span>\n            <span class=\"token comment\">#     curr.next = prev</span>\n            <span class=\"token comment\">#     prev = curr</span>\n            <span class=\"token comment\">#     curr = temp</span>\n            <span class=\"token comment\"># return prev, head</span>\n            prev <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\n            new_tail <span class=\"token operator\">=</span> head\n\n            <span class=\"token comment\"># this will stop right before the last node got reverse</span>\n            <span class=\"token keyword\">while</span> head <span class=\"token operator\">!=</span> last<span class=\"token punctuation\">:</span>\n                temp <span class=\"token operator\">=</span> head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n                head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> prev\n                prev <span class=\"token operator\">=</span> head\n                head <span class=\"token operator\">=</span> temp\n\n            <span class=\"token keyword\">return</span> prev<span class=\"token punctuation\">,</span> new_tail\n\n        dummy <span class=\"token operator\">=</span> curr <span class=\"token operator\">=</span> ListNode<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># dummy</span>\n        <span class=\"token comment\">#   0   ->   1   ->   2   ->   3   ->   4</span>\n        <span class=\"token comment\"># curr     head</span>\n        count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">while</span> head<span class=\"token punctuation\">:</span> <span class=\"token comment\"># we move head forword for k step and execute if block</span>\n            <span class=\"token keyword\">if</span> count <span class=\"token operator\">==</span> k<span class=\"token punctuation\">:</span>\n                <span class=\"token comment\"># dummy</span>\n                <span class=\"token comment\">#   0   ->   1   ->   2   ->   3   ->   4</span>\n                <span class=\"token comment\"># curr                        head</span>\n                new_head<span class=\"token punctuation\">,</span> new_tail <span class=\"token operator\">=</span> reverse_list_except_last<span class=\"token punctuation\">(</span>curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">)</span>\n                <span class=\"token comment\"># dummy</span>\n                <span class=\"token comment\">#   0   ?     1     &lt;-    2     ?     3    ->   4</span>\n                <span class=\"token comment\"># curr     new_tail     new_head    head</span>\n                curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> new_head <span class=\"token comment\"># connect the old starting position with new head</span>\n                <span class=\"token comment\"># dummy</span>\n                <span class=\"token comment\">#   0   ->     2     ->    1     ?     3    ->   4</span>\n                <span class=\"token comment\"># curr     new_head     new_tail    head</span>\n                new_tail<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> head\n                curr <span class=\"token operator\">=</span> new_tail <span class=\"token comment\"># assign the next starting position</span>\n                count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n                <span class=\"token comment\"># dummy                   curr</span>\n                <span class=\"token comment\">#   0   ->     2     ->    1     ->     3    ->   4</span>\n                <span class=\"token comment\">#          new_head     new_tail      head</span>\n\n            head <span class=\"token operator\">=</span> head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token comment\"># head always move 1 step ahead</span>\n            count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n        <span class=\"token comment\"># since head always move 1 step ahead, it's possible that head is none but there</span>\n        <span class=\"token comment\"># exactly k nodes need to be reversed</span>\n        <span class=\"token keyword\">if</span> count <span class=\"token operator\">==</span> k<span class=\"token punctuation\">:</span>\n            new_head<span class=\"token punctuation\">,</span> new_tail <span class=\"token operator\">=</span> reverse_list_except_last<span class=\"token punctuation\">(</span>curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">)</span>\n            curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> new_head\n            new_tail<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> head\n\n        <span class=\"token keyword\">return</span> dummy<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span></code></pre></div>\n<h2><a href=\"https://leetcode.com/problems/flatten-a-multilevel-doubly-linked-list/\">430. Flatten a Multilevel Doubly Linked List</a></h2>\n<p>Create a recursive helper function that flatterns the list</p>\n<p>the helper flatterns the list by getting the flattern child list's tail and joint to the next node.</p>\n<p>The base cases are the key, we should check if a node</p>\n<p>1/ is None</p>\n<p>2/ is last node (no child, no next)</p>\n<p>if it's not the last node and has no child, we should call helper(head.next), note that we won't change the connection here since we only do something when there's child.</p>\n<p>if it has a child, we should call the helper(head.child), and get the last node of the flattern child, then we do some connections</p>\n<p>after the connection, we should continue helper(next_node) if next_node exist.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Solution</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">flatten</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> head<span class=\"token punctuation\">:</span> <span class=\"token string\">'Optional[Node]'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token string\">'Optional[Node]'</span><span class=\"token punctuation\">:</span>\n\n        <span class=\"token keyword\">def</span> <span class=\"token function\">helper</span><span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> head<span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">None</span>\n            <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> head<span class=\"token punctuation\">.</span>child <span class=\"token keyword\">and</span> <span class=\"token keyword\">not</span> head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">return</span> head\n            <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> head<span class=\"token punctuation\">.</span>child<span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">return</span> helper<span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span><span class=\"token punctuation\">)</span>\n\n            child_list_tail <span class=\"token operator\">=</span> helper<span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">.</span>child<span class=\"token punctuation\">)</span>\n\n            next_node <span class=\"token operator\">=</span> head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            <span class=\"token keyword\">if</span> next_node<span class=\"token punctuation\">:</span>\n                child_list_tail<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> next_node\n                next_node<span class=\"token punctuation\">.</span>prev <span class=\"token operator\">=</span> child_list_tail\n\n            head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> head<span class=\"token punctuation\">.</span>child\n            head<span class=\"token punctuation\">.</span>child<span class=\"token punctuation\">.</span>prev <span class=\"token operator\">=</span> head\n            head<span class=\"token punctuation\">.</span>child <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span>\n\n            <span class=\"token keyword\">return</span> helper<span class=\"token punctuation\">(</span>next_node<span class=\"token punctuation\">)</span> <span class=\"token keyword\">if</span> next_node <span class=\"token keyword\">else</span> child_list_tail\n\n\n        helper<span class=\"token punctuation\">(</span>head<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> head</code></pre></div>\n<h2><a href=\"https://leetcode.com/problems/lru-cache/\">146. LRU</a></h2>\n<p>The reason why this problem falls into the Linkedlist category is that\nPut and Get need to be constant time, which can be easily achieved by a dictionary.</p>\n<p>However, it's an LRU, meaning that we need an easy way to track &#x26; modify the ordering of keys and all the operations need to be O(1).</p>\n<p>The idea is that we have a double linked list, and the order of the node represents the history.</p>\n<p>The LL has 2 padding nodes at the beginning and end of the LL, this way we can</p>\n<p>1/Remove any node without worry about the edge case</p>\n<p>2/Get the least recently used node by calling <code class=\"language-text\">tail.prev</code></p>\n<p>For each node, we need to have <code class=\"language-text\">key</code>, <code class=\"language-text\">val</code>, <code class=\"language-text\">prev</code>, <code class=\"language-text\">next</code>, noted that we do need <code class=\"language-text\">key</code> for getting the key to delete record in the dictionary.</p>\n<p>We also have a dictionary of (key -> node), so that we can get the node given a key</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># https://leetcode.com/problems/lru-cache/</span>\n<span class=\"token comment\"># The reason why this problem falls into the Linkedlist category is that</span>\n<span class=\"token comment\"># Put and Get need to be constant time, which can be easily achieved by dictionary.</span>\n\n<span class=\"token comment\"># However, it's an LRU, meaning that we need an easy way to track &amp; modify the ordering of keys and all the operations need to be O(1).</span>\n\n<span class=\"token comment\"># The idea is that we have a double linked list, and the order of the node represents the history.</span>\n\n<span class=\"token comment\"># The LL has 2 padding nodes at the beginning and end of the LL, this way we can</span>\n\n<span class=\"token comment\"># 1/Remove any node without worry about the edge case</span>\n\n<span class=\"token comment\"># 2/Get the least recently used node by calling `tail.prev`</span>\n\n<span class=\"token comment\"># For each node, we need to have `key`, `val`, `prev`, `next`, noted that we do need `key` for getting the key to delete record in the dictionary.</span>\n\n<span class=\"token comment\"># We also have a dictionary of (key -> node), so that we can get the node given a key</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ListNode</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"\n    Double LL node with key and val attributes\n    \"\"\"</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> key<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> val<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> prev<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">next</span><span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>key <span class=\"token operator\">=</span> key\n        self<span class=\"token punctuation\">.</span>val <span class=\"token operator\">=</span> val\n        self<span class=\"token punctuation\">.</span>prev <span class=\"token operator\">=</span> prev\n        self<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">next</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">LRUCache</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> capacity<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        Initialize 2 padding nodes that linked to each other w/o putting them in dictionary\n        \"\"\"</span>\n        head <span class=\"token operator\">=</span> ListNode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        tail <span class=\"token operator\">=</span> ListNode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> tail\n        tail<span class=\"token punctuation\">.</span>prev <span class=\"token operator\">=</span> head\n        self<span class=\"token punctuation\">.</span>head <span class=\"token operator\">=</span> head\n        self<span class=\"token punctuation\">.</span>tail <span class=\"token operator\">=</span> tail\n        self<span class=\"token punctuation\">.</span>capactity <span class=\"token operator\">=</span> capacity\n        self<span class=\"token punctuation\">.</span>d <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\"># now, we need a way to add and remove a node in the LL</span>\n    <span class=\"token comment\"># Noted that we don't need to consider ordering and capacity now, just simple add and remove</span>\n    <span class=\"token comment\"># We can use this wheel to complete the more complext logic</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">_add</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> node<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        For adding, there's only 1 way to add - add behind the padding head.\n        \"\"\"</span>\n        old_top <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n        self<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> node\n        node<span class=\"token punctuation\">.</span>prev <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>head\n        node<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> old_top\n        old_top<span class=\"token punctuation\">.</span>prev <span class=\"token operator\">=</span> node\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">_remove</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> node<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        Since we have 2 padding nodes we can simply remove the give node by joining its prev and next\n        \"\"\"</span>\n        prev_node <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span>prev\n        next_node <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n        prev_node<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> next_node\n        next_node<span class=\"token punctuation\">.</span>prev <span class=\"token operator\">=</span> prev_node\n\n    <span class=\"token comment\"># next we need an update logic - given a node, change it from the current position to top</span>\n    <span class=\"token comment\"># this is now easy since we can just remove it and add</span>\n    <span class=\"token comment\"># noted that we still don't care about capacity and other logics.</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">_update</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> node<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token triple-quoted-string string\">\"\"\"\n        Delete first, then add.\n        \"\"\"</span>\n        self<span class=\"token punctuation\">.</span>_remove<span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>_add<span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">)</span>\n\n\n    <span class=\"token comment\"># Get is relatively easy</span>\n    <span class=\"token comment\"># just get the value then update the position</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> key <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            node <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span>\n            self<span class=\"token punctuation\">.</span>_update<span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> node<span class=\"token punctuation\">.</span>val\n\n    <span class=\"token comment\"># for put if key exist, simply update the value of the node and reposition</span>\n    <span class=\"token comment\"># if LRU is full, remove the key **and** the node and add the new node</span>\n    <span class=\"token comment\"># if LRU isn't full, simply add node</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">put</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> key <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">:</span>\n            node <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span>\n            node<span class=\"token punctuation\">.</span>val <span class=\"token operator\">=</span> value\n            self<span class=\"token punctuation\">.</span>_update<span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">elif</span> self<span class=\"token punctuation\">.</span>capactity <span class=\"token operator\">></span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            new_top <span class=\"token operator\">=</span> ListNode<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span>\n            self<span class=\"token punctuation\">.</span>_add<span class=\"token punctuation\">(</span>new_top<span class=\"token punctuation\">)</span>\n            self<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> new_top\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            last_node <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>tail<span class=\"token punctuation\">.</span>prev\n            self<span class=\"token punctuation\">.</span>_remove<span class=\"token punctuation\">(</span>last_node<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">del</span> self<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">[</span>last_node<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">]</span>\n            new_top <span class=\"token operator\">=</span> ListNode<span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span>\n            self<span class=\"token punctuation\">.</span>_add<span class=\"token punctuation\">(</span>new_top<span class=\"token punctuation\">)</span>\n            self<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> new_top\n</code></pre></div>\n<h2><a href=\"https://leetcode.com/problems/design-browser-history/\">1472. Design Browser History</a></h2>\n<p>Good for linked list practice, after understanding the problem, nothing really special.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ListNode</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> val<span class=\"token operator\">=</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> back<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">next</span><span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>val <span class=\"token operator\">=</span> val\n        self<span class=\"token punctuation\">.</span>back <span class=\"token operator\">=</span> back\n        self<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">next</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">BrowserHistory</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> homepage<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>curr <span class=\"token operator\">=</span> ListNode<span class=\"token punctuation\">(</span>homepage<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">visit</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\n        new_head <span class=\"token operator\">=</span> ListNode<span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>curr<span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token operator\">=</span> new_head\n        self<span class=\"token punctuation\">.</span>curr <span class=\"token operator\">=</span> new_head\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">back</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> steps<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">while</span> self<span class=\"token punctuation\">.</span>curr<span class=\"token punctuation\">.</span>back <span class=\"token keyword\">and</span> steps <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n            self<span class=\"token punctuation\">.</span>curr <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>curr<span class=\"token punctuation\">.</span>back\n            steps <span class=\"token operator\">-=</span> <span class=\"token number\">1</span>\n        result <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>curr<span class=\"token punctuation\">.</span>val\n        <span class=\"token keyword\">return</span> result\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">forward</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> steps<span class=\"token punctuation\">:</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">while</span> self<span class=\"token punctuation\">.</span>curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span> <span class=\"token keyword\">and</span> steps <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n            self<span class=\"token punctuation\">.</span>curr <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>curr<span class=\"token punctuation\">.</span><span class=\"token builtin\">next</span>\n            steps <span class=\"token operator\">-=</span><span class=\"token number\">1</span>\n        result <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>curr<span class=\"token punctuation\">.</span>val\n        <span class=\"token keyword\">return</span> result</code></pre></div>","categories":["LinkedList"],"date":"May 04, 2023","description":"Linked List Leetcode","id":"dfc1d861-8901-5729-9a3d-8074ba63d8f0","keywords":["LinkedList","Leetcode"],"slug":"/leetcode/LinkedList/Linked-List-Mega-Thread/","title":"Linked List Mega Thread","readingTime":{"text":"15 min read"}},"listingPagePath":"/blog"}},"staticQueryHashes":["172304273","948380417"],"slicesMap":{}}